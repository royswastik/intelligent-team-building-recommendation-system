Generating Spatio-Temporal Descriptions in Pollen Forecasts
Ross Turner, Somayajulu Sripada and Ehud Reiter
Dept of Computing Science,
University of Aberdeen, UK
{rturner,ssripada,ereiter}@csd.abdn.ac.uk
Ian P Davy
Aerospace and Marine International,
Banchory, Aberdeenshire, UK
idavy@weather3000.com
Abstract
We describe our initial investigations into
generating textual summaries of spatio-
temporal data with the help of a prototype
Natural Language Generation (NLG) system
that produces pollen forecasts for Scotland.
1 Introduction
New monitoring devices such as remote sensing sys-
tems are generating vast amounts of spatio-temporal
data. These devices, coupled with the wider accessi-
bility of the data, have spurred large amounts of re-
search into how it can best be analysed. There has been
less research however, into how the results of the data
analysis can be effectively communicated. As part of
a wider research project aiming to produce textual re-
ports of complex spatio-temporal data, we have devel-
oped a prototype NLG system which produces textual
pollen forecasts for the general public.
Pollen forecast texts describe predicted pollen con-
centration values for different regions of a country.
Their production involves two subtasks; predicting
pollen concentration values for different regions of a
country, and describing these numerical values textu-
ally.In our work, we focus on the later subtask, tex-
tual description of spatio-temporally distributed pollen
concentration values. The subtask of predicting pollen
concentrations is carried out by our industrial collab-
orator, Aerospace and Marine International (UK) Ltd
(AMI).
A fairly substantial amount of work already exists
on weather forecast generation. A number of systems
have been developed and are currently in commercial
use with two of the most notable being FOG (Goldberg
et al, 1994) and MultiMeteo (Coch, 1998).
2 Knowledge Acquisition
Our knowledge acquisition activities consisted of cor-
pus studies and discussions with experts. We have
collected a parallel corpus (69 data-text pairs) of
pollen concentration data and their corresponding hu-
man written pollen reports which our industrial collab-
orator has provided for a local commercial television
station. The forecasts were written by two expert mete-
orologists, one of whom provided insight into how the
forecasts were written. An example of a pollen fore-
cast text is shown in Figure 1, its corresponding data is
shown in table 1. A pollen forecast in the map form is
shown in Figure 2.
?Monday looks set to bring another day of
relatively high pollen counts, with values up
to a very high eight in the Central Belt. Fur-
ther North, levels will be a little better at a
moderate to high five to six. However, even
at these lower levels it will probably be un-
comfortable for Hay fever sufferers.?
Figure 1: Human written pollen forecast text for the
pollen data shown in table 1
Figure 2: Pollen forecast map for the pollen data shown
in table 1
Analysis of a parallel corpus (texts and their under-
lying data) can be performed in two stages:
? In the first stage, traditional corpus analysis pro-
cedure outlined in (Reiter and Dale, 2000) and
(Geldof, 2003) can be used to analyse the pollen
forecast texts (the textual component of the paral-
lel corpus). This stage will identify the different
message types and uncover the sub language of
the pollen forecasts.
? In the second stage the more recent analysis meth-
ods developed in the SumTime project (Reiter et
163
ValidDate AreaID Value
27/06/2005 1 (North) 6
27/06/2005 2 (North West) 5
27/06/2005 3 (Central) 5
27/06/2005 4 (North East) 6
27/06/2005 5 (South West) 8
27/06/2005 6 (South East) 8
Table 1: Pollen Concentration Data for Scotland - Input
data for Figures 1 and 2
al., 2003) which exploit the availability of the un-
derlying pollen data corresponding to the forecast
texts can be used to map messages to input data
and also map parts of the sub language such as
words to the input data. Due to the fact that we
are modeling the task of automatically producing
pollen forecast texts from predicted pollen con-
centration values, knowledge of how to map in-
put data to messages and words/phrases is abso-
lutely necessary. Studies connecting language to
data are useful for understanding the semantics of
language in a more novel way than the traditional
logic-based formalisms (Roy and Reiter, 2005).
We have performed the first stage of the corpus anal-
ysis and part of the second stage so far. In the first
stage, we abstracted out the different message types
from the forecast texts (Reiter and Dale, 2000). These
are shown in Table 2. The main two message types
are forecast messages and trend messages. The for-
mer communicate the actual pollen forecast data (the
communicative goal) and the latter describe patterns in
pollen levels over time as shown in Figure 3
?Grass pollen counts continue to ease from
the recent high levels?
Figure 3: A trend message describing a fall in pollen
levels
Table 2 also shows three other identified message
types. We have ignored both the forecast explanation
and general message types in our system development
because they cannot be generated from pollen data
alone. For example, the explanation type messages ex-
plain the weather conditions responsible for the pollen
predictions. Hayfever messages in our system are rep-
resented as canned text. Examples of a forecast ex-
planation message and hayfever message are shown in
Figure 4 and Figure 5 respectively.
From our corpus analysis we have also been able to
learn the text structure for pollen forecasts. The fore-
casts normally start with a trend message and then in-
clude a number of forecast messages. Where hayfever
messages are present, they normally occur at the end of
the forecast.
Due to the fact that the input to our pollen text gen-
?Windier and wetter weather over last 24
hours has dampened down the grass pollen
count?
Figure 4: An example forecast explanation message
?Even though values are mostly low, those
sensitive to pollen may still be affected?
Figure 5: An example hayfever message
erator is the pollen data in numerical form, as part of
the second stage of the corpus analysis we need to map
the input data to the messages. In earlier ?numbers
to text? NLG systems such as SumTime (Sripada et
al., 2003) and TREND (Boyd, 1998), well known data
analysis techniques such as segmentation and wavelet
analysis were employed for this task. Since pollen data
is spatio-temporal we need to employ spatio-temporal
data analysis techniques to achieve this mapping. We
describe our method in the next section.
Our corpus analysis revealed that forecast texts con-
tain a rich variety of spatial descriptions for a location.
For example, the same region could be referred to by
it?s proper name e.g. ?Suthlerland and Caithness? or
by its? relation to a well known geographical landmark
e.g. ?North of the Great Glen? or simply by its? geo-
graphical location on the map e.g. ?the far North and
Northwest?. In the context of pollen forecasts which
describe spatio-temporal data, studying the semantics
of phrases or words used for describing locations or re-
gions is a challenge. We are currently analysing the
forecast texts along with the underlying data to under-
stand how spatial descriptions map to the underlying
data using the methods applied in the SumTime project
(Sripada et al, 2003).
As part of this analysis, in a seperate study, we asked
twenty four further education students in the Glasgow
area of Scotland a Geography question. The question
asked how many out of four major place names in Scot-
land did they consider to be in the south west of the
country. The answers we got back were very mixed
with a sizeable number of respondents deciding that
the only place we considered definitely not to be in the
south west of Scotland was in fact there.
3 Spatio-temporal Data Analysis
We have followed the pipeline architecture for text gen-
eration outlined in (Reiter and Dale, 2000). The mi-
croplanning and surface realisation modules from the
Sumtime project (Sripada et al, 2003) have largely
been reused. We have developed new data analysis
and document planning modules for the system and de-
scribe the data analysis module in the rest of this sec-
tion. The data analysis module performs segmentation
and trend detection on the data before providing the re-
sults as input to the Natural Language Generation Sys-
164
Message Type Data Dependency Corpus Coverage
Forecast Pollen data for day of forecast 100%
Trend Past/Future pollen forecasts 54%
Forecast Explanation Weather forecast for day of forecast 35%
Hayfever Pollen levels affect hay fever 23%
General General Domain Knowledge 17%
Table 2: Message Categorisation of the Pollen Corpus
tem. An example of the input data to our system is
shown in Table 1. Our data analysis is based on three
steps:-
1. segmentation of the geographic regions by their
non-spatial attributes (pollen values)
2. further segmentation of the segmented geographic
regions by their spatial attributes (geographic
proximity)
3. detection of trends in the generalised pollen level
for the whole region over time
3.1 Segmentation
The task of segmentation consists of two major sub-
tasks, clustering and classification (Miller and Han,
2001). Spatial clustering involves grouping objects into
similar subclasses, whereas spatial classification in-
volves finding a description for those subclasses which
differentiates the clustered objects from each other (Es-
ter et al, 1998).
Pollen values are measured on a scale of 1 to 10(low
to very high). We defined 4 initial categories for seg-
mentation, these are:-
1. VeryHigh - {8,9,10}
2. High - {6,7}
3. Moderate - {4,5}
4. Low - {1,2,3}
These categories proved rather rigid for our pur-
poses. This was due to the fact that human forecasters
take a flexible approach to classifying pollen values.
For example, in the corpus the pollen value of 4 could
be referred to as both a moderate level of pollen and a
low-to-moderate level of pollen. This lead us to define
3 further categories which are derived from our 4 initial
categories:-
5. LowModerate - {3,4}
6. ModerateHigh - {5,6}
7. HighVeryhigh - {7,8}
Thus, the initial segmentation of data carried out by
our system is a two stage process. Firstly regions are
clustered into the initial four categories by pollen value.
The second stage involves merging adjacent categories
that only contain regions with adjacent values. For ex-
ample if we take the input data from Table 1, after the
first stage we have the sets:-
? {{AreaID=2,Value=5},{AreaID=3,Value=5}}
? {{AreaID=1,Value=6},{AreaID=4,Value=6}}
? {{AreaID=5,Value=8},{AreaID=6,Value=8}}
In stage two we create the union of the moderate and
high sets to give:-
? {{AreaID=1,Value=6},{AreaID=2,Value=5},
{AreaID=3,Value=5},{AreaID=4,Value=6}}
? {{AreaID=5,Value=8},{AreaID=6,Value=8}}
Although this initial segmentation could be accom-
plished all in one step, completing it in two steps pro-
vided a more simple software engineering solution.
We can now carry out further segmentation of these
sets according to their spatial attributes. In our set of
regions with ModerateHigh pollen levels we can see
that AreaIDs 1,2,3,4 are in fact all spatial neighbours.
The north, north east and north west regions can be
described spatially as the northern part of the country.
Therefore we can now say that ?Pollen levels are at a
moderate to high 5 or 6 in the northern and central
parts of the country? . Similarly, as the two members of
our set containing regions with VeryHigh pollen levels
are also spatial neighbours we can also say that ?Pollen
levels are at a very high level 8 in the south of the coun-
try?. This process now yields the following two sets:-
? {{AreaID=1234,Value=[5,6]}}
? {{AreaID=56,Value=[8]}}
Our two sets we have now created can now be passed
to the Document Planner were they will be encapsu-
lated as individual Forecast messages.
3.2 Trend Detection
Trend detection in our system works by generalising
over all sets created by segmentation. From our two
sets we can say that generally pollen levels are high
over the whole of Scotland. Looking at the previous
days forecast we can detect a trend by comparing the
two generalisations. If the previous days forecast was
also high we can say ?pollen levels remain at the high
165
levels of yesterday?. By looking further back, and if
those previous days were also high, we can say ?pollen
levels remain at the high levels of recent days?. If the
previous days forecast was low, we can say ?pollen lev-
els have increased from yesterdays low levels?. Our
data analysis module then conveys the information that
there is a relation between the general pollen level
of today and the general pollen level of some recent
timescale to the Document Planner, which then encap-
sulates the information as a Trend message.
After the results of data analysis have been input into
the NLG pipeline the output in Figure 6 is produced.
?Grass pollen levels for Monday remain at
the moderate to high levels of recent days
with values of around 5 to 6 across most parts
of the country. However, in southern areas,
pollen levels will be very high with values of
8.?
Figure 6: The output text from our system for the input
data in Table 1
4 Evaluation
A demo of the pollen forecasting system can be found
on the internet at 1. The evaluation of the system is be-
ing carried out in two stages. The first stage has used
this demo to obtain feedback from expert meteorolo-
gists at AMI. We found the feedback on the system to
be very positive and hope to deploy the system for the
next pollen season. Two main areas identified for im-
provement of the generated texts:-
? Use of a more varied amount of referring expres-
sions for geographic locations.
? An ability to vary the length of the text dependent
on the context it was being used, i.e in a newspa-
per or being read aloud.
These issues will be dealt with subsequent releases
of the software. The second and more thorough evalu-
ation will be carried out when the system is deployed.
5 Further Research
The current work on pollen forecasts is carried out as
part of RoadSafe2 a collaborative research project be-
tween University of Aberdeen and Aerospace and Ma-
rine International (UK) Ltd. The main objective of
the project is to automatically generate road mainte-
nance instructions to ensure efficient and correct ap-
plication of salt and grit to the roads during the win-
ter. The core requirement of this project is to describe
spatio-temporal data of detailed weather and road sur-
face temperature predictions textually. In a previous
1www.csd.abdn.ac.uk/?rturner/cgi bin/pollen.html
2www.csd.abdn.ac.uk/?rturner/RoadSafe/
research project SumTime (Sripada et al, 2003) we
have developed techniques for producing textual sum-
maries of time series data. In RoadSafe we plan to ex-
tend these techniques to generate textual descriptions
of spatio-temporal data. Because the spatio-temporal
weather prediction data used in road maintenance ap-
plications is normally of the order of a megabyte, we
initially studied pollen forecasts which are based on
smaller spatio-temporal data sets. We will apply the
various techniques we have learnt from the study of
pollen forecasts to the spatio-temporal data from the
road maintenance application.
6 Summary
Automatically generating spatio-temporal descriptions
involves two main subtasks. The first subtask focuses
on the spatio-temporal analysis of the input data to
extract information required by the different message
types identified in the corpus analysis. The second sub-
task is to find appropriate linguistic form for the spatial
location or region information.
References
S. Boyd. 1998. Trend: a system for generating in-
telligent descriptions of time-series data. In IEEE
International Conference on Intelligent Processing
Systems (ICIPS1998).
J. Coch. 1998. Multimeteo: multilingual production
of weather forecasts. ELRA Newsletter, 3(2).
M. Ester, A. Frommelt, H. Kriegel, and J. Sander.
1998. Algorithms for characterization and trend de-
tection in spatial databases. In KDD, pages 44?50.
S. Geldof. 2003. Corpus analysis for nlg. cite-
seer.ist.psu.edu/583403.html.
E. Goldberg, N. Driedger, and R. Kittredge. 1994. Us-
ing natural-language processing to produce weather
forecasts. IEEE Expert, 9(2):45?53.
H. J. Miller and J. Han. 2001. Geographic Data Min-
ing and Knowledge Discovery. Taylor and Francis.
E. Reiter and R. Dale. 2000. Building Natural Lan-
guage Generation Systems. Cambridge University
Press.
E. Reiter, S. Sripada, and R. Robertson. 2003. Ac-
quiring correct knowledge for natural language gen-
eration. Journal of Artificial Intelligence Research,
18:491?516.
D. Roy and E. Reiter. 2005. Connecting language to
the world. Artificial Intelligence, 167:1?12.
S. Sripada, E. Reiter, and I. Davy. 2003. Sumtime-
mousam: Configurable marine weather forecast gen-
erator. Expert Update, 6:4?10.
166
Using Spatial Reference Frames to Generate Grounded Textual
Summaries of Georeferenced Data
Ross Turner, Somayajulu Sripada and Ehud Reiter
Dept of Computing Science,
University of Aberdeen, UK
{rturner,ssripada,ereiter}@csd.abdn.ac.uk
Ian P Davy
Aerospace and Marine Intl.,
Banchory, Aberdeenshire, UK
idavy@weather3000.com
Abstract
Summarising georeferenced (can be iden-
tified according to it?s location) data in
natural language is challenging because it
requires linking events describing its non-
geographic attributes to their underlying
geography. This mapping is not straightfor-
ward as often the only explicit geographic
information such data contains is latitude
and longitude. In this paper we present an
approach to generating textual summaries
of georeferenced data based on spatial ref-
erence frames. This approach has been im-
plemented in a data-to-text system we have
deployed in the weather forecasting domain.
1 Introduction
Data-to-text systems are NLG systems that gener-
ate texts from raw input data. Many examples of
such systems have been reported in the literature,
which have been applied in a number of domains and
to different types of input. For example, BabyTalk
(Portet et al, 2007) generates medical reports from
sensors monitoring a baby in a Neonatal Intensive
Care Unit, while (Hallett and Scott, 2005) describe a
system for generating reports from events in medical
records. SumTime (Reiter et al, 2005), (Coch, 1998)
and Fog (Goldberg et al, 1994) generate weather
forecasts from the output of weather computer sim-
ulation models, while (Iordanskaja et al, 1992) and
(Ro?sner, 1987) both generate summaries from em-
ployment statistics.
As the above examples show most work in data-to-
text up to now has concentrated almost exclusively
on time series data. Work on generating text from
spatial data has been reported in Coral (Dale et al,
2005), which generates route descriptions of a path
constructed from Geographical Information Systems
(GIS) datasets. Unlike the input to Coral however,
most georeferenced data contains only limited spatial
information(in many cases, only latitude and longi-
tude).
As (Roy and Reiter, 2005) point out, connecting
language to the non-linguistic world is an important
issue in Cognitive Science and Aritificial Intelligence;
moreover, geographic data is becoming increasingly
ubiquitous as the availability of low cost locational
devices such as GPS increases, and GIS become more
user friendly. Therefore, we believe exploring the
issue of generating textual reports grounded in real
world geographical data is an important challenge.
On a more practical level, it is also a natural next
step in the application of data-to-text technology to
apply it to geographically referenced data.
In the RoadSafe project described in the following
section, we have been investigating this issue in a
data-to-text system that generates road ice weather
forecasts. The subsequent focus of this paper is the
adaption of NLG techniques to the task of summaris-
ing georeferenced data. In particular, the incorpora-
tion of spatial reference frames to generate grounded
(from external GIS data sources) spatial references.
2 Background
Weather forecasting has been one of the most suc-
cessful and widely researched application domains for
NLG systems. The main novel aspect that sets Road-
Safe apart from other weather forecast generators
and indeed, other data-to-text systems, is it?s appli-
cation to spatio-temporal data. The input to Road-
Safe is generated by a road ice simulation model,
which outputs a large (in order of Megabytes) mul-
tivariate data set, shown in Figure 1.
The output of the model contains predicted mea-
surements of 9 meteorological parameters for 1000?s
of points across a road network, each measured at
20 minute intervals during a 24 hour forecast pe-
riod. A map of such a network, belonging to a lo-
cal council in the UK, is shown in Figure 2. This
model forms the basis of a road ice forecasting ser-
16
Figure 1: Part of a RoadSafe input data set show-
ing corresponding spatial and non-spatial attribute ta-
bles; T=Air Temperature (Deg C), W=Dew Point (Deg
C), R=Road Surface Temperature (Deg C), C=Weather
Code, D=Wind direction (Degrees), V=Mean wind
Speed (knots), G=Wind Gust (knots),S=Sky Cover (%),
P=Precipitation Water Equivalent (mm).
vice provided by Aerospace and Marine International
(AMI), which is delivered to local councils via an
online Road Weather Information System (RWIS).
This service provides road engineers with up to the
minute weather information using graphs, graphics
and textual reports that allows them to base their
road maintenance operations on during the winter
months. In RoadSafe we have been working on gen-
erating the textual reports, such as the one shown in
Figure 3, automatically from the model data.
The communicative goal of the textual reports is
to complement detailed tabular and graphical pre-
sentations of the model data with a more general
overview of the weather conditions. In the context
of our work this presents a number of challenges:
1. The input data has to be analysed, this is non-
Figure 2: Road Ice Model Data Points Map
trivial due to the complexity and size of the in-
put data.
2. Our system is required to achieve a huge
data/text compression ratio (Human authored
texts are short and concise summaries). There-
fore, content selection is a serious issue for our
system.
3. Describing the effect of the underlying geogra-
phy on weather conditions, such as ?possible gale
force gusts on higher ground?, is an integral part
of the communicative goal of the text. Infor-
mation containing such relationships is not ex-
plicit in the input data and therefore must be
grounded.
?Another night with all routes quickly falling be-
low zero this evening. Only isolated urban spots in
the south will only drop to around zero. Freezing
fog patches will become more widespread during the
night but thin a little tomorrow morning especially
in the south.?
Figure 3: Example Human Authored Corpus Text
3 Architecture
As noted in the previous section, the input data to
our system contains only limited spatial information:
a point identifier that ties the measurement site to
a particular route and a latitude longitude coordi-
nate. Therefore it is necessary for our system to per-
form additional spatial reasoning to characterise the
input in terms of its underlying geography. The ar-
chitecture of our system shown in Figure 4, extends
17
Figure 4: RoadSafe System Architecture
the architecture for data-to-text systems proposed
in (Reiter, 2007) to include this additional process-
ing. In Section 3.1 we explain some of the rationale
behind these design decisions based on observations
from our knowledge acquisition(KA) Studies. In Sec-
tions 3.2 and 3.3 we explain the additional modules
we have introduced in more detail.
3.1 Observations from Knowledge
Acquisition Studies
We have been working closely with experts at AMI
for a number of winters now in the development of
RoadSafe. During this time we have found that two
interrelated aspects in particular have influenced the
architecture of our system, which we describe next.
Spatial Reference Frames Frames of reference
in this context are a particular perspective in which
the domain can be observed. More precisely, they are
sets of related geographical features (such as elevated
areas) which partition the domain into meaningful
sub areas for descriptive purposes. In Levinson?s ter-
minology (Levinson, 2003), they are absolute refer-
ence systems as they employ fixed bearings. In the
RoadSafe domain we have identified 4 main spatial
frames of reference used by experts in our corpus de-
scribed in (Turner et al, 2008):
1. Altitude e.g. ?rain turning to snow on higher
ground?.
2. Absolute Direction e.g. ?some heavier bursts in
the north?.
3. Coastal Proximity e.g. ?strong winds along the
coast?.
4. Population e.g. e.g. ?Roads through the Urban
areas holding just above freezing?.
Communicative Purpose of Spatial Descrip-
tions From our studies we have found that experts
generally follow 4 steps when writing road ice fore-
casts:
1. Build frames of reference to geographical fea-
tures that may affect general weather condi-
tions.
2. Build an overview of the general weather pat-
tern.
3. Select important features to communicate from
the pattern.
4. Communicate the summary.
Building frames of reference to geographical fea-
tures is important for a human forecaster to be able
to take into account how the geography of the region
influences the general weather conditions. Under-
standing the weathers interaction with the terrain
enables them to make reliable meteorological infer-
ences. For example a spatial description such as ?rain
turning to snow in rural areas? may be geographically
accurate, but does not make sense meteorologically
as it is purely by chance that this event is occurring
at that location.
18
From a NLG system perspective it is important to
take into account the communicative purpose of spa-
tial descriptions in this context, which are express-
ing causality (the effect of geographical features on
weather conditions) rather than being purely loca-
tive. For example, changes in precipitation type are
more commonly seen in higher elevation areas where
the air temperature is generally lower, so a spatial de-
scription describing such an event should make use of
a reference frame that reflects this interaction. Simi-
larly, road surface temperatures are generally higher
in urban areas where there is a general population
effect. For a referring expression generation (REG)
strategy this means that this requires not only ade-
quate spatial representation and reasoning capabili-
ties about an objects location, but also additional in-
formation about an objects function in space. This is
a problem which has been acknowledged in the psy-
cholinguistic literature e.g. (Coventry and Garrod,
2004).
3.2 Geographic Characterisation
Geographic Characterisation is responsible for
grounding the location of the data by making the
relationship between it?s underlying geography ex-
plicit. As the first stage of data analysis it assigns
additional spatial properties to each data point by in-
tersecting the point with external GIS data sources
representing the frames of reference we have iden-
tified. For example after characterisation, the first
point in the spatial attribute table shown in Figure
1 is assigned values [0m,SSW,Urban,Coastal] to rep-
resent elevation, absolute compass direction, popula-
tion density of its immediate area and its proximity
to the coast respectively. This process is more com-
monly known as a form of data enrichment in the
Spatial Data Mining community (Miller and Han,
2001). In the scope of our work it is important for
two reasons: most importantly, it provides a set of
properties that are used by the REG module to gen-
erate spatial descriptions; secondly, these properties
can be taken into account by our analysis method
during the initial segmentation of the data.
3.3 Spatial Reasoner and Spatial Database
The spatial database provides a repository of geo-
graphic information. Frames of reference are stored
as thematic layers from various GIS data sources con-
sisting of sets of boundary objects. For example, al-
titude is represented as sets of polygons representing
altitude contours at a given resolution and popula-
tion is a set of town boundary polygons. The spatial
reasoning module provides a high level interface be-
tween the spatial database and the rest of the system.
It is responsible for performing geographic character-
isation and providing spatial query functionality to
the rest of the system.
4 Text Generation
In Section 2 we outlined 3 main challenges that our
system must address. Our approach to the first,
analysis of the input data, is described in (Turner
et al, 2007). In the following Sections 4.1 and 4.2,
we describe the approach taken by our text generator
to the former two: content selection and generating
spatial references.
4.1 Content Selection
The input to the document planning module of our
system is a series of meteorological events (such as
rises in temperature) describing each parameter over
specific periods of time and locations. The basic
events are generated by data analysis which are then
abstracted into higher level concepts by data inter-
pretation. As it is impossible to include all these
events in such a short summary our system also gen-
erates a table as well as text shown in Figure 5.
In our KA studies we have found experts use
a qualitative overview of weather conditions when
writing forecasts to perform this task, confirming
similar observations reported in (Sripada et al,
2001). We take the same approach as experts in
our system by including the internal information
of the table (generated by the data analysis mod-
ule) as input to document planning. This serves as
the overview for content selection and allows con-
struction of an initial document plan consisting of
overview event leaf nodes. An example of this struc-
ture for the system output shown in Figure 5 is given
in Figure 6. Each overview event corresponds to a
column (or columns in the case of snow and rain) in
the table if the column indicates a significant thresh-
old for the parameter it describes (i.e. yes for ice).
Figure 6: Overview event tree for the text output in Fig-
ure 5
19
Figure 5: Example system output with text and partial table
The next stage is to construct messages from the
leaf nodes of the document plan. This is done in a
top down fashion by further annotating the tree with
events from the input list. Additional events are se-
lected by using the information from the overview
events to retrieve them from the list. This has the
benefit of keeping the content of both text and ta-
ble consistent. The final tree comprises the input
to the microplanner where messages are realised as
sentences in the final text and typically contain two
events per message (as observed in our corpus). For
example the overview event describing Precip in Fig-
ure 6 is realised as two sentences in Figure 5: Win-
try precipitation will affect most routes throughout
the forecast period at first [overview event], falling
as snow flurries in some places above 300M at first
[event]. Snow spreading throughout the forecast pe-
riod to all areas [event] and persisting in some places
above 300M until end of period [event].
4.2 Generating Spatial References to
Geographic Areas
Approaches to REG to date have concentrated
on distinguishing descriptions (e.g. (Gatt and
van Deemter, 2007),(van Deemter, 2006),(Horacek,
2006),(Krahmer et al, 2003),(Dale and Reiter,
1995); more specifically that is given a domain, they
look to generate a description of a target object that
uniquely distinguishes it from all other objects within
that domain. In a large geographic environment
such as a road network consisting of 1000?s of points,
where the task is to refer to an event occurring at a
small subset of those points, it is impractical (gen-
erated descriptions may be long and complex) and
prohibitively expensive (large numbers of spatial re-
lations between objects may have to be computed) to
take this approach. A more practical approach is to
generate spatial descriptions in terms of regions that
are not strictly distinguishing (i.e. urban areas, high
ground) rather than in terms of the points contained
within that region. Indeed, this is the strategy em-
ployed by human authors in our corpus. Therefore,
in a description such as ?road surface temperatures
will fall below zero in some places in the south west?,
distractors can be defined as the set of points within
the south western boundary that do not satisfy this
premise.
The relaxation of the requirement to generate a
distinguishing description simplifies the REG task in
this context as a single referring expression may be
deemed acceptable to refer to a wide range of situa-
tions. For example, ?in some places in the south west?
could be used to refer to a large number of possible
subsets of points that fall within the south western
boundary of the network. A simple REG strategy
is to find the set of properties to use in a descrip-
tion that introduce the least number of distractors.
However, as mentioned previously in Section 3.1, an
added constraint is that a spatial description should
use an appropriate frame of reference in the context
of the event it is describing. For example, describing
a change in precipitation type using population as
20
a frame of reference (i.e ?rain turning snow in some
rural places?) is not a sound meteorological inference
because population density does not affect precipi-
tation. This could cause a reader to infer false im-
plicatures (Grice, 1975), and consequently lead to
unnecessary treatment of part of the road network
so should be avoided. To account for this, following
(Dale and Reiter, 1995) we include a preference set
of reference frames for each type of event that must
be described. Absence from the set signifies that the
specified frame of reference should not be used in
that context.
Recall from Section 3.2 that properties in this case
relate directly to sets of boundary objects within a
frame of reference. Our content selection module
takes as input a series of individual proportions de-
scribing the spatial distribution of each parameter
within each frame of reference at a particular time
point. A score is calculated for each set of properties
by averaging over the sum of proportions for each
frame of reference. An appropriate frame of refer-
ence is then selected by choosing the one with the
highest score from the preference set for the given
event. An example1 of the input for the generated
description ?falling as snow flurries in some places
above 300M at first? in Figure 5 is shown in Figure
7.
5 Evaluation
The system presented in this paper is in its first
incarnation, RoadSafe is still actively under devel-
opment in preparation for a full scale user evalua-
tion. We have been evaluating the quality of the
output of the current system using post edit tech-
niques and feedback from expert meteorologists at
AMI. Our prototype has been installed at AMI since
the start of the year and is being used to generate
draft road ice forecasts for one of their local council
clients. One forecast is generated per day which is
then post-edited by an on duty forecaster before it is
sent to the client. While common in Machine Trans-
lation post-edit evaluations are still relatively rare in
NLG. The only large scale post-edit evaluation of an
NLG system to our knowledge has been reported in
(Sripada et al, 2005).
Our current evaluation is small in comparison to
that evaluation; SumTime-Mousam, the system be-
ing evaluated in that work was generating 150 draft
forecasts per day. However, it does try to address
some of the problems the authors encountered during
that evaluation. The main issue outlined by (Sripada
1N.B. this example is taken from route network that is
land locked and therefore coastal proximity is not taken into
account in this case.
Parameter: Snow
Class: Flurries
Time point: 12:00 {
Reference Frame Boundary Proportion
Altitude
0m: 0.0
100m: 0.0
200m: 0.0
300m: 0.07
400m: 1.0
500m: 1.0
Direction
CentralNE: 0.0
CentralNW: 0.0
CentralSE: 0.0
CentralSW: 0.0
EastNorthEast: 0.0
EastSouthEast: 0.0
SouthSouthEast: 0.0
SouthSouthWest: 0.18
TrueNorthEast: 0.0
TrueSouthEast: 0.0
TrueSouthWest: 0.56
WestSouthWest: 0.23
Population
Rural: 0.02
Urban: 0.0
}
Figure 7: Example input to content selection for REG.
Proportions are number of points affected by snow within
given boundary at the specified time point. Scores by
Reference Frame: Altitude = 0.35, Direction = 0.07, Pop-
ulation = 0.01
et al, 2005) was that their analysis was post-hoc and
therefore not supported by authors or by an editing
tool, which made it difficult to analyse why post-edits
were made. We have accounted for this by including
post-editing as part of our development process and
making use of a simple online interface that allows
the editor to select check boxes as they edit and in-
sert any general comments they may have. Check
boxes record edit reasons at a high level, for exam-
ple content, sentence order, spatial description used
etc. This is because it is not reasonable to expect a
time-constrained forecaster to spend time recording
every edit he makes.
Another important lesson pointed out by (Sripada
et al, 2005) is the need for a pilot study to analyse
the post-edit behaviour of individual authors to ac-
count for noisy data. This is certainly worthwhile,
but is difficult to carry out in our domain where fore-
casters work in variable shift patterns and on vari-
able forecasting tasks at different times. Instead, we
21
have used feedback forms as a way to gain qualitative
data on both the general quality of the texts and the
post-editing process. We present our results in Sec-
tion 5.1. In Section 5.2 we provide some discussion
of the results and describe future work.
5.1 Results
Our post-edit corpus currently consists of 112 texts,
2 texts(1 generated,1 edited) for 56 forecast days.
Of the 56 generated texts 54 have been edited before
being released to the user. As a general evaluation
criterion, our generated texts are generally too long
with a mean word length of 72 (standard deviation
of 21) compared to a mean word length of 53 (stan-
dard deviation of 17). The mean word count differ-
ence per forecast is 21 (standard deviation of 15). In
general analysis of the corpus is difficult, as in some
cases (18) texts have been basically rewritten. This
is not reflecting the quality of the text as such, but
the fact that the author has access to other informa-
tion sources such as satellite maps, which can lead
him to draw different inferences to those in the raw
model data available to the system. Furthermore,
(Hopwood, 2004) acknowledge as ice prediction mod-
els have become increasingly advanced, the primary
added value provided by weather forecasters is to
function as quality control and error mitigation for
the model, using their insight and experience to make
amendments particularly on marginal nights (where
the road surface temperature may or may not fall be-
low zero). Such cases can only be considered as noise
for analysis purposes, and the fact that our system
cannot account for this without the additional infor-
mation has been acknowledged by all forecasters in
their editing comments and feedback forms.
Focusing on 74 real post-edits (not attributed to
model data) recorded in our corpus, they can be clas-
sified into the following broad error categories: con-
tent edits - 65% and microplanning edits 35%. One
major problem we have identified with the current
generated text is the way in which overview events
described in 4.1 are realised. Deletions of whole sen-
tences describing overview events such as the one
highlighted in bold in Figure 8 constitute over half
(52%) of content edits, which may help to explain
the large descrepency in word counts. Essentially
forecasters believe they can often communicate sim-
ilar information as subsequent statements about the
same parameter making the texts repetitive at times.
Therefore they suggest they should either be omit-
ted or be realised as more interpretative statements,
such as ?A marginal night for most routes? for the
omitted statement in Figure 8. Forecasters also of-
ten delete subsequent statements following overview
Generated Text:
?Road surface temperatures will reach
near critical levels on some routes from the
late evening until tomorrow morning. Rain
will affect all routes during the afternoon and
evening. Road surface temperatures will fall slowly
during the mid afternoon and evening, reaching
near critical levels in areas above 500M by 21:00.?
Post-edited Text:
?Rain will affect all routes during the after-
noon and evening. Road surface temperatures will
fall slowly during the mid afternoon and evening,
reaching near critical levels in areas above 500M by
21:00.?
Figure 8: Content selection post-edit example (road
surface temperature overview information removed)
Generated Text:
?Road surface temperatures will reach near
critical levels on some routes after midnight until
tomorrow morning. Rain will affect all routes
throughout the forecast period, falling as snow
in some places above 500M by 08:00. Snow
clearing by 08:00. Road surface temperatures
will fall slowly during the late evening and tonight,
reaching near critical levels in areas above 500M by
03:00.?
Post-edited Text:
?Road surface temperatures will reach near
critical levels on some routes after midnight until
tomorrow morning. Rain will affect all routes
during the forecast period, this may fall as sleet
later on highest ground before dying out.
Road surface temperatures will fall slowly during
the late evening and tonight, reaching near critical
levels in areas above 500M by 03:00.?
Figure 9: Microplanning post-edit example (lexicalisa-
tion and aggregation)
sentences when they describe an event (such as rain
turning heavy) occuring only at a small number of
locations. So the spatial extent of an event and not
only its meteorological importance should be con-
sidered during content selection. RoadSafe does not
currently include much domain reasoning at the doc-
ument planning level to be able to do this.
22
Microplanning edits, as highlighted in bold in Fig-
ure 9, are due to individual lexical choice or aggrega-
tion issues. In all questionnaires experts have com-
mented that the generated texts are grammatically
sound but could flow better. Aggregation is done
in a fairly basic fashion in our system at present as
is lexicalisation. There have been no edits to the
frame of reference used in the generated spatial de-
scriptions, which we have taken as indication that
our REG strategy works well.
5.2 Discussion
The general feedback to our system has been encour-
aging. In terms of the exploitability of the system in
its current form it has received mixed reviews from
4 forecasters: 1 forecaster rated the system as good
for content and very poor on fluency; 1 rated it as
ok for both; 1 forecaster rated it as poor for content
and ok for fluency; 1 forecaster rated it as poor for
both. Generally all forecasters believe the generated
texts should tell a more fluent story about weather
conditions with more causal linking between events.
In terms of the techniques and approach outlined in
this paper they have worked well, although as ac-
knowledged in the previous section more sophisti-
cated domain reasoning and aggregation techniques
are required if the text is to function as a concise
summary, and indeed reach the standard of human
authored texts.
Making the required improvements highlighted in
the previous section is the focus of current work. Af-
ter these improvements have been made we plan to
carry out an evaluation with users of the forecasts.
We hope to also extend the functionality of the sys-
tem by generating individual route forecasts, which
can be accessed interactively through the table.
6 Conclusions
We have presented an approach to generating ge-
ographically grounded summaries of georeferenced
data using spatial reference frames. This approach
has been implemented in a data-to-text system for
generating road ice forecasts. An important task in
summarising georeferenced data is to describe the
data in terms of its underlying geography it refer-
ences. This presents an interesting challenge for con-
ventional REG approaches as finding a distinguish-
ing description for large numbers of objects in geo-
graphic space is not practical. We have found char-
acterising the geography in terms of spatial reference
frames provides a good solution as it provides a flex-
ible representation to describe set of objects in terms
of geographic areas.
We have also implemented a simple top down
content selection approach based on the idea of
overview, taken from how we have observed ex-
perts commonly performing the summarisation task.
While this approach works well for content selection,
a post-edit evaluation with experts has highlighted
that realising the overview in the text can make texts
verbose and have the effect of making subsequent
statements describing related events in the discourse
sound repetitive. This is important as experts re-
quire a short concise summary of weather conditions.
Acknowledgments
Many thanks to our collaborators at Aerospace and
Marine International UK, especially Keith Thom-
son and the other Meteorologists, for their helpful
feedback and comments. The RoadSafe project is
supported jointly by Aerospace and Marine Inter-
national UK, and the UK Engineering and Physical
Sciences Research Council (EPSRC), under a CASE
PhD studentship.
References
J. Coch. 1998. Multimeteo: multilingual production of
weather forecasts. ELRA Newsletter, 3(2).
K. R. Coventry and S. C. Garrod. 2004. Saying, Seeing
and Acting: The Psychological Semantics of Spatial
Prepositions. Psychology Press.
R. Dale and E. Reiter. 1995. Computational interpreta-
tions of the gricean maxims in the generation of refer-
ring expressions. Cognitive Science, 19:233?263.
R Dale, S Geldof, and J-P Prost. 2005. Using natu-
ral language generation in automatic route description.
Journal of Research and Practice in Information Tech-
nology, 37(1):89?105.
A. Gatt and K. van Deemter. 2007. Lexical choice and
conceptual perspective in the generation of plural re-
ferring expressions. Journal of Logic, Language and
Information, 16:423?443.
E. Goldberg, N. Driedger, and R. Kittredge. 1994. Using
natural-language processing to produce weather fore-
casts. IEEE Expert, 9(2):45?53.
H. Grice. 1975. Logic and conversation. In P. Cole and
J. Morgan, editors, Syntax and Semantics, volume 3,
Speech Acts, pages 43?58. Academic Press: New York.
C. Hallett and D. Scott. 2005. Structural variation in
generated health reports. In Proceedings of the 3rd
International Workshop on Paraphrasing (IWP2005),
pages 33?40, Jeju Island, Republic of Korea.
Philip Hopwood. 2004. Improvements in road forecasting
techniques & their applications. In 12th International
Road Weather Conference, Bingen, Germany.
Helmut Horacek. 2006. Generating references to parts
of recursively structured objects. In Proceedings of
the 4th International Conference on Natural Language
Generation, pages 47?54.
23
Lidija Iordanskaja, Richard Kittredge, Benoit Lavoie,
and Alain Polgue`re. 1992. Generation of extended
bilingual statistical reports. COLING-92, pages 1019?
1023.
Emiel Krahmer, Sebastiaan van Erk, and Andr Verleg.
2003. Graph-based generation of referring expressions.
Computational Linguistics, 29(1):53?72.
Stephen C. Levinson. 2003. Space in language and cog-
nition: explorations in cognitive diversity. Cambridge
University Press, Cambridge.
Harvey J. Miller and Jiawei Han. 2001. Geographic data
mining and knowledge discovery: An overview. In Ge-
ographic Data Mining and Knowledge Discovery, chap-
ter 1, pages 1?32. Taylor & Francis.
F. Portet, E. Reiter, J. Hunter, and S. Sripada. 2007.
Automatic generation of textual summaries from
neonatal intensive care data. In 11th Conference on
Artificial Intelligence in Medicine (AIME 07), pages
227?236.
E. Reiter, S. Sripada, J. Hunter, J. Yu, and I. Davy.
2005. Choosing words in computer-generated weather
forecasts. In Artificial Intelligence, volume 67, pages
137?169.
E. Reiter. 2007. An architecture for data-to-text sys-
tems. In ENLG07, pages 97?104.
D. Ro?sner. 1987. The automated news agency: Sem-
tex: A text generator for german. In Natural Lan-
guage Generation: New Results in Artificial Intelli-
gence, Psychology, and Linguistics. Nijhoff.
D. Roy and E. Reiter. 2005. Connecting language to the
world. Artificial Intelligence, 167:1?12.
S. Sripada, E. Reiter, J. Hunter, and Jin Yu. 2001.
A two-stage model for content determination. In
ENLG2001, pages 3?10.
S Sripada, E Reiter, and L Hawizy. 2005. Evaluation of
an nlg system using post-edit data: Lessons learnt. In
10th European Workshop on Natural Language Gener-
ation.
R. Turner, S. Sripada, E. Reiter, and I. Davy. 2007. Se-
lecting the content of textual descriptions of geograph-
ically located events in spatio-temporal weather data.
In Applications and Innovations in Intelligent Systems
XV, pages 75?88.
R. Turner, S. Sripada, E. Reiter, and I. Davy. 2008.
Building a parallel spatio-temporal data-text cor-
pus for summary generation. In Proceedings of the
LREC2008 Workshop on Methodologies and Resources
for Processing Spatial Language, Marrakech, Morocco.
K van Deemter. 2006. Generating referring expressions
that involve gradable properties. Computational Lin-
guistics, 32:195?222.
24
